http://sqlmvp.kr/220340062504

[MariaDB 프로세스 강제 종료]

특정 스레드에서 실행 중인 쿼리나 커넥션을 종료하는 방법에 대해서 알아본다. 현재 실행 중인 쿼리는
SHOW PROCESSESLIST 명령어로 확인 할 수 있다. 실행 중인 쿼리 리스트에서 ID 컬럼의 값은 접속된
커넥션의 요청을 처리하는 고유한 키 값으로 사용된다.

show processlist;

프로세스를 강제로 종료하기 위해서는 KILL 명령어를 사용한다. 아래 명령어는 Query ID가 
3인 스레드의 쿼리만 강제로 종료하는 명령이다.


kill query 3

아래 명령어는 Query ID가 3인 스레드 및 커넥션까지 강제로 종료한다.

Kill 명령을 사용하여 커넥션까지 강제 종료하는 경우 커넥션에서 실행중인 쿼리가 정상적으로
종료되지 않을 수 있다. 가능하면 KILL Query ID로 실행중인 쿼리부터 종료하여 클라이언트에서
해당 쿼리 작업이 종료되었음을 감지한 후 필요에 따라 커넥션을 종료시키는 것이 좋다.







